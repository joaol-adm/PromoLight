<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
  <title>Promo Light v3.3</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon-192.png" sizes="192x192">
  <link rel="apple-touch-icon" href="icon-192.png">
  <meta name="theme-color" content="#111827">
  <link rel="stylesheet" href="styles.css">
  <script defer src="app.js"></script>
</head>
<body>
  <header class="header">
    <h1>Promo Light <small class="tag">v3.3</small></h1>
    <button id="btnSettings" class="btn secondary">Configurações GitHub</button>
  </header>

  <main class="container">
    <section class="media-grid-v33">
      <figure class="img1"><img id="img1" src="assets/images/img1.svg" alt="Imagem 1" /></figure>
      <figure class="img2"><img id="img2" src="assets/images/img2.png" alt="Imagem 2" /></figure>
      <figure class="img3"><img id="img3" src="assets/images/img3.svg" alt="Imagem 3" /></figure>
    </section>

    <section class="video-wrap">
      <video id="promoVideo" playsinline muted preload="metadata" poster="assets/images/img3.svg" controls>
        <source src="assets/video/sample.mp4" type="video/mp4">
        <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4">
        Seu navegador não suporta vídeos .mp4.
      </video>
    </section>

    <section class="frases">
      <div class="frase cooper f1">frase 1 VERMELHO</div>
      <div class="frase cooper f2">frase 2 MARRON</div>
      <div class="frase cooper f3">frase 3 PRETO</div>
      <div class="frase cooper f4">frase 4 CREME</div>
      <div class="frase cooper f5">frase 5 AMARELO</div>
      <div class="frase cooper f6">Frase 6 LARANJA</div>
    </section>

    <section class="actions">
      <label class="phone-label">
        Telefone do usuário (com DDI + DDD) para registro no log:
        <input id="inputPhone" type="tel" placeholder="+55 11 99999-9999" inputmode="tel" autocomplete="tel" />
      </label>
      <button id="btnSalvar" class="btn primary">salvar</button>
    </section>

    <p class="note">
      WhatsApp: <code id="whatsTarget"></code> • Imagens auto-ext (<code>.svg/.png/.jpg</code>) •
      Autoplay do vídeo quando 100% visível (iOS/Android) • PWA + log opcional no GitHub.
    </p>
  </main>

  <dialog id="settingsModal">
    <form method="dialog" class="settings">
      <h2>Configurações de Log no GitHub</h2>
      <p>Para registrar o telefone via API, informe seu token e confirme os dados.</p>
      <label>Usuário/Owner do GitHub <input id="cfgOwner" type="text" value="joaol-adm"></label>
      <label>Repositório <input id="cfgRepo" type="text" value="PromoLight"></label>
      <label>Branch <input id="cfgBranch" type="text" value="main"></label>
      <label>Caminho do arquivo de log <input id="cfgPath" type="text" value="logs/promo-log.csv"></label>
      <label>Token pessoal (PAT) <input id="cfgToken" type="password" placeholder="ghp_..."></label>
      <menu><button value="cancel" class="btn secondary">Cancelar</button><button id="btnSaveCfg" value="default" class="btn primary">Salvar</button></menu>
      <p class="hint">Seu token fica salvo apenas no seu navegador (localStorage).</p>
    </form>
  </dialog>

  <footer class="footer"><small>© Promo Light</small></footer>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js');
      });
    }
  </script>
</body>
</html>
